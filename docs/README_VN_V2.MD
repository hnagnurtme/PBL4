# Há»‡ Thá»‘ng Truyá»n ThÃ´ng Máº¡ng SAGIN

Má»™t ná»n táº£ng mÃ´ phá»ng máº¡ng tÃ­ch há»£p KhÃ´ng gian-KhÃ´ng khÃ­-Máº·t Ä‘áº¥t (SAGIN) phÃ¢n tÃ¡n cho phÃ©p truyá»n thÃ´ng liá»n máº¡ch qua chÃ²m sao vá»‡ tinh, tráº¡m máº·t Ä‘áº¥t vÃ  háº¡ táº§ng Ä‘á»‹nh tuyáº¿n lÃµi vá»›i tá»‘i Æ°u hÃ³a báº±ng AI.

## ğŸš€ Tá»•ng Quan Dá»± Ãn

Dá»± Ã¡n nÃ y triá»ƒn khai kiáº¿n trÃºc máº¡ng SAGIN toÃ n diá»‡n vá»›i nhiá»u dá»‹ch vá»¥ káº¿t ná»‘i vá»›i nhau mÃ´ phá»ng cÃ¡c tÃ¬nh huá»‘ng truyá»n thÃ´ng vá»‡ tinh thá»±c táº¿. Há»‡ thá»‘ng cung cáº¥p quáº£n lÃ½ topology Ä‘á»™ng, tá»‘i Æ°u hÃ³a Ä‘á»‹nh tuyáº¿n thÃ´ng minh vÃ  kháº£ nÄƒng giÃ¡m sÃ¡t thá»i gian thá»±c.

### TÃ­nh NÄƒng ChÃ­nh

- **Kiáº¿n trÃºc máº¡ng Ä‘a táº§ng**: Dá»‹ch vá»¥ vá»‡ tinh, tráº¡m máº·t Ä‘áº¥t vÃ  bá»™ Ä‘á»‹nh tuyáº¿n lÃµi
- **Tá»‘i Æ°u hÃ³a báº±ng AI**: Äá»‹nh tuyáº¿n vÃ  phÃ¢n bá»• tÃ i nguyÃªn dá»±a trÃªn há»c tÄƒng cÆ°á»ng
- **GiÃ¡m sÃ¡t thá»i gian thá»±c**: TÃ­ch há»£p Firebase Ä‘á»ƒ theo dÃµi tráº¡ng thÃ¡i máº¡ng trá»±c tiáº¿p
- **Client tÆ°Æ¡ng tÃ¡c**: Giao diá»‡n ngÆ°á»i dÃ¹ng JavaFX Ä‘á»ƒ hiá»ƒn thá»‹ máº¡ng vÃ  chat
- **Thiáº¿t káº¿ Cloud-Native**: Há»— trá»£ triá»ƒn khai Docker vÃ  Kubernetes Ä‘áº§y Ä‘á»§
- **TÃ­ch há»£p thá»i tiáº¿t**: Äiá»u chá»‰nh topology Ä‘á»™ng dá»±a trÃªn Ä‘iá»u kiá»‡n mÃ´i trÆ°á»ng

## ğŸ—ï¸ Kiáº¿n TrÃºc Há»‡ Thá»‘ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Client GUI    â”‚    â”‚  Manager API    â”‚    â”‚  AI Optimizer   â”‚
â”‚    (JavaFX)     â”‚â—„â”€â”€â–ºâ”‚ (Spring Boot)   â”‚â—„â”€â”€â–ºâ”‚   (FastAPI)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                        â”‚                        â”‚
         â”‚                        â”‚                        â”‚
         â–¼              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚                   â”‚              â”‚
â”‚   Dá»‹ch Vá»¥       â”‚â—„â”€â”€â”€â”€â”¤  Topology Máº¡ng    â”‚              â”‚
â”‚   Vá»‡ Tinh       â”‚     â”‚                   â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚                   â”‚              â”‚
         â”‚               â”‚                   â”‚              â”‚
         â–¼               â”‚                   â”‚              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚                   â”‚              â”‚
â”‚ Dá»‹ch Vá»¥ Tráº¡m    â”‚â—„â”€â”€â”€â”€â”¤                   â”‚              â”‚
â”‚ Máº·t Äáº¥t         â”‚     â”‚                   â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚                   â”‚              â”‚
         â”‚               â”‚                   â”‚              â”‚
         â–¼               â”‚                   â”‚              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚                   â”‚              â”‚
â”‚  Dá»‹ch Vá»¥        â”‚â—„â”€â”€â”€â”€â”¤                   â”‚              â”‚
â”‚  Router LÃµi     â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
         â”‚                                                  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ Tá»•ng Quan CÃ¡c Dá»‹ch Vá»¥

### ğŸŸª Client Service (JavaFX)
ğŸ‘‰ **Vai trÃ²**: Giao diá»‡n ngÆ°á»i dÃ¹ng vÃ  tÃ­nh nÄƒng chat vá»›i hiá»ƒn thá»‹ máº¡ng

**TÃ­nh nÄƒng má»Ÿ rá»™ng:**
- **Access Selector**: Chá»n Ä‘iá»ƒm truy cáº­p vá»‡ tinh/máº·t Ä‘áº¥t (thá»§ cÃ´ng hoáº·c há»— trá»£ AI)
- **Chat Session**: Tin nháº¯n Ä‘áº§u cuá»‘i vá»›i theo dÃµi gÃ³i tin
- **Topology Viewer**: Hiá»ƒn thá»‹ máº¡ng thá»i gian thá»±c vá»›i tráº¡ng thÃ¡i node
- **Log Manager**: Lá»‹ch sá»­ trace gÃ³i tin vÃ  phÃ¢n tÃ­ch hiá»‡u suáº¥t

**Cáº¥u trÃºc code:**
```
client-service/
 â”œâ”€ domain/
 â”‚   â”œâ”€ Packet.java
 â”‚   â”œâ”€ Message.java
 â”‚   â””â”€ NodeInfo.java
 â”œâ”€ application/
 â”‚   â”œâ”€ ChatSession.java
 â”‚   â”œâ”€ AccessSelector.java
 â”‚   â””â”€ LogManager.java
 â”œâ”€ infrastructure/
 â”‚   â”œâ”€ NetworkClient.java
 â”‚   â”œâ”€ FirebaseLogger.java
 â”‚   â”œâ”€ FirebaseReader.java
 â”‚   â””â”€ Config.java
 â””â”€ interface/
     â”œâ”€ JavaFxApp.java
     â”œâ”€ ChatController.java
     â””â”€ TopologyViewer.java
```

### ğŸŸ§ Satellite Service (Java)
ğŸ‘‰ **Vai trÃ²**: MÃ´ phá»ng node vá»‡ tinh vá»›i chuyá»ƒn tiáº¿p gÃ³i tin quá»¹ Ä‘áº¡o

**TÃ­nh nÄƒng má»Ÿ rá»™ng:**
- **QoS Module**: MÃ´ phá»ng delay/loss dá»±a trÃªn Ä‘iá»u kiá»‡n thá»i tiáº¿t
- **Buffering**: Xáº¿p hÃ ng gÃ³i tin khi tráº¡m máº·t Ä‘áº¥t quÃ¡ táº£i
- **Fault Detection**: BÃ¡o cÃ¡o lá»—i liÃªn káº¿t cho Manager Service
- **Orbital Mechanics**: Cáº­p nháº­t vá»‹ trÃ­ dá»±a trÃªn quá»¹ Ä‘áº¡o vá»‡ tinh

**Cáº¥u trÃºc code:**
```
satellite-service/
 â”œâ”€ domain/
 â”‚   â”œâ”€ Packet.java
 â”‚   â”œâ”€ RoutingTable.java
 â”‚   â””â”€ LinkStatus.java
 â”œâ”€ application/
 â”‚   â”œâ”€ Forwarder.java
 â”‚   â”œâ”€ QoSModule.java
 â”‚   â”œâ”€ BufferManager.java
 â”‚   â””â”€ StateManager.java
 â”œâ”€ infrastructure/
 â”‚   â”œâ”€ TcpServer.java
 â”‚   â”œâ”€ TcpSender.java
 â”‚   â”œâ”€ FirebaseReporter.java
 â”‚   â””â”€ ManagerClient.java
 â””â”€ interface/
     â””â”€ SatelliteApp.java
```

### ğŸŸ¨ Ground Station Service (Java)
ğŸ‘‰ **Vai trÃ²**: Gateway máº·t Ä‘áº¥t giá»¯a vá»‡ tinh vÃ  máº¡ng lÃµi

**TÃ­nh nÄƒng má»Ÿ rá»™ng:**
- **Bandwidth Limiter**: Thuáº­t toÃ¡n token bucket cho mÃ´ phá»ng bÄƒng thÃ´ng
- **Congestion Detection**: Cáº£nh bÃ¡o Manager khi táº£i lÆ°u lÆ°á»£ng cao
- **Packet Scheduling**: Æ¯u tiÃªn gÃ³i tin Ä‘iá»u khiá»ƒn hÆ¡n gÃ³i tin dá»¯ liá»‡u
- **Weather Adaptation**: Äiá»u chá»‰nh tham sá»‘ truyá»n dá»±a trÃªn Ä‘iá»u kiá»‡n

**Cáº¥u trÃºc code:**
```
groundstation-service/
 â”œâ”€ domain/
 â”‚   â”œâ”€ Packet.java
 â”‚   â”œâ”€ RoutingTable.java
 â”‚   â””â”€ TrafficStat.java
 â”œâ”€ application/
 â”‚   â”œâ”€ Forwarder.java
 â”‚   â”œâ”€ BandwidthLimiter.java
 â”‚   â”œâ”€ CongestionDetector.java
 â”‚   â””â”€ StateManager.java
 â”œâ”€ infrastructure/
 â”‚   â”œâ”€ TcpServer.java
 â”‚   â”œâ”€ TcpSender.java
 â”‚   â”œâ”€ FirebaseReporter.java
 â”‚   â””â”€ ManagerClient.java
 â””â”€ interface/
     â””â”€ GroundStationApp.java
```

### ğŸŸ© Core Router Service (Java)
ğŸ‘‰ **Vai trÃ²**: Háº¡ táº§ng Ä‘á»‹nh tuyáº¿n IP backbone dung lÆ°á»£ng cao

**TÃ­nh nÄƒng má»Ÿ rá»™ng:**
- **Dynamic Routing Protocol**: TÃ­nh toÃ¡n láº¡i tuyáº¿n khi topology thay Ä‘á»•i
- **Load Balancing**: PhÃ¢n phá»‘i gÃ³i tin qua nhiá»u Ä‘Æ°á»ng dáº«n
- **Failover**: Äá»‹nh tuyáº¿n láº¡i tá»± Ä‘á»™ng khi vá»‡ tinh/tráº¡m máº·t Ä‘áº¥t lá»—i
- **Traffic Engineering**: Tá»‘i Æ°u hÃ³a sá»­ dá»¥ng máº¡ng

**Cáº¥u trÃºc code:**
```
core-router-service/
 â”œâ”€ domain/
 â”‚   â”œâ”€ Packet.java
 â”‚   â”œâ”€ RoutingTable.java
 â”‚   â””â”€ LinkMetric.java
 â”œâ”€ application/
 â”‚   â”œâ”€ Forwarder.java
 â”‚   â”œâ”€ RoutingProtocol.java
 â”‚   â”œâ”€ LoadBalancer.java
 â”‚   â””â”€ StateManager.java
 â”œâ”€ infrastructure/
 â”‚   â”œâ”€ TcpServer.java
 â”‚   â”œâ”€ TcpSender.java
 â”‚   â”œâ”€ FirebaseReporter.java
 â”‚   â””â”€ ManagerClient.java
 â””â”€ interface/
     â””â”€ CoreRouterApp.java
```

### ğŸŸ¦ Manager Service (Java, Spring Boot)
ğŸ‘‰ **Vai trÃ²**: Äiá»u phá»‘i máº¡ng cung cáº¥p topology, thá»i tiáº¿t vÃ  API giÃ¡m sÃ¡t

**TÃ­nh nÄƒng má»Ÿ rá»™ng:**
- **Weather Generator**: MÃ´ phá»ng mÆ°a, bÃ£o áº£nh hÆ°á»Ÿng QoS vá»‡ tinh
- **Topology Updater**: Äá»‹nh vá»‹ node Ä‘á»™ng dá»±a trÃªn quá»¹ Ä‘áº¡o vá»‡ tinh
- **Monitoring API**: Endpoint RESTful Ä‘á»ƒ truy váº¥n tráº¡ng thÃ¡i toÃ n máº¡ng
- **Firebase Synchronization**: Äá»“ng bá»™ dá»¯ liá»‡u thá»i gian thá»±c qua táº¥t cáº£ dá»‹ch vá»¥

**Cáº¥u trÃºc code:**
```
manager-service/
 â”œâ”€ domain/
 â”‚   â”œâ”€ NodeInfo.java
 â”‚   â”œâ”€ Weather.java
 â”‚   â””â”€ Topology.java
 â”œâ”€ application/
 â”‚   â”œâ”€ TopologyService.java
 â”‚   â”œâ”€ WeatherService.java
 â”‚   â””â”€ MonitoringService.java
 â”œâ”€ infrastructure/
 â”‚   â”œâ”€ FirebaseSync.java
 â”‚   â”œâ”€ RandomWeatherGen.java
 â”‚   â””â”€ TopologyUpdater.java
 â””â”€ interface/
     â”œâ”€ ManagerController.java  # REST API
     â””â”€ ManagerApp.java
```

### ğŸŸ¥ AI Optimizer Service (Python, FastAPI)
ğŸ‘‰ **Vai trÃ²**: Há»c tÄƒng cÆ°á»ng + AI sinh Ä‘á»ƒ lá»±a chá»n tá»‘i Æ°u node truy cáº­p vÃ  Ä‘á»‹nh tuyáº¿n

**TÃ­nh nÄƒng má»Ÿ rá»™ng:**
- **Hybrid AI**: RL cho tá»‘i Æ°u ngáº¯n háº¡n, GenAI cho phÃ¢n tÃ­ch dÃ i háº¡n
- **What-if Simulator**: MÃ´ hÃ¬nh tÃ¡c Ä‘á»™ng cá»§a quyáº¿t Ä‘á»‹nh Ä‘á»‹nh tuyáº¿n thay tháº¿
- **Recommendation API**: Truy váº¥n trá»±c tiáº¿p tá»« client Ä‘á»ƒ tÆ° váº¥n Ä‘á»‹nh tuyáº¿n
- **Continuous Learning**: ThÃ­ch á»©ng vá»›i Ä‘iá»u kiá»‡n máº¡ng thay Ä‘á»•i

**Cáº¥u trÃºc code:**
```
ai-optimizer-service/
 â”œâ”€ domain/
 â”‚   â”œâ”€ state.py
 â”‚   â”œâ”€ action.py
 â”‚   â””â”€ reward.py
 â”œâ”€ application/
 â”‚   â”œâ”€ rl_agent.py
 â”‚   â”œâ”€ genai_advisor.py
 â”‚   â”œâ”€ optimizer.py
 â”‚   â””â”€ simulator.py
 â”œâ”€ infrastructure/
 â”‚   â”œâ”€ firebase_client.py
 â”‚   â”œâ”€ api_client.py
 â”‚   â””â”€ config.py
 â””â”€ interface/
     â”œâ”€ app.py             # FastAPI entrypoint
     â””â”€ controllers.py
```

## ğŸ”¥ Schema CÆ¡ Sá»Ÿ Dá»¯ Liá»‡u Firebase

Há»‡ thá»‘ng sá»­ dá»¥ng Firebase Realtime Database/Firestore Ä‘á»ƒ quáº£n lÃ½ tráº¡ng thÃ¡i thá»i gian thá»±c vÃ  giÃ¡m sÃ¡t. Má»—i dá»‹ch vá»¥ liÃªn tá»¥c ghi tráº¡ng thÃ¡i vÃ  log Ä‘á»ƒ AI phÃ¢n tÃ­ch vÃ  client quan sÃ¡t.

### CÃ¡c Collection CÆ¡ Sá»Ÿ Dá»¯ Liá»‡u

#### 1. `logs/` - Log LÆ°u LÆ°á»£ng Máº¡ng
Theo dÃµi táº¥t cáº£ gÃ³i tin Ä‘Ã£ Ä‘i qua máº¡ng:
```json
logs/{logId}: {
  "packetId": "abc123",
  "src": "clientA",
  "dst": "clientB", 
  "path": ["clientA", "sat1", "ground1", "core1", "ground2", "sat2", "clientB"],
  "timestamp": 1693783456000,
  "status": "delivered",
  "delayMs": 123,
  "lossRate": 0.01
}
```

#### 2. `packets/` - Tráº¡ng ThÃ¡i GÃ³i Tin Hoáº¡t Äá»™ng
Tráº¡ng thÃ¡i thá»i gian thá»±c cá»§a gÃ³i tin hiá»‡n Ä‘ang trong máº¡ng:
```json
packets/{packetId}: {
  "src": "clientA",
  "dst": "clientB",
  "payloadSize": 512,
  "ttl": 5,
  "currentNode": "sat1",
  "nextHop": "ground1",
  "createdAt": 1693783456000
}
```

#### 3. `nodes/` - ThÃ´ng Tin Node Máº¡ng
Tráº¡ng thÃ¡i trá»±c tiáº¿p cá»§a táº¥t cáº£ node máº¡ng:
```json
nodes/{nodeId}: {
  "id": "sat1",
  "type": "satellite",
  "ip": "10.0.0.2",
  "coords": { "x": 1200, "y": 800, "z": 2000 },
  "status": "active",
  "bandwidth": 1000,
  "load": 0.65,
  "lastUpdated": 1693783456000
}
```

#### 4. `links/` - Tráº¡ng ThÃ¡i LiÃªn Káº¿t Váº­t LÃ½
Káº¿t ná»‘i máº¡ng giá»¯a cÃ¡c node:
```json
links/{linkId}: {
  "srcNode": "sat1",
  "dstNode": "ground1", 
  "latencyMs": 40,
  "lossRate": 0.001,
  "capacityMbps": 500,
  "status": "up"
}
```

#### 5. `topology/` - Snapshot Máº¡ng
Tráº¡ng thÃ¡i máº¡ng hoÃ n chá»‰nh táº¡i thá»i Ä‘iá»ƒm cá»¥ thá»ƒ:
```json
topology/{snapshotId}: {
  "timestamp": 1693783456000,
  "nodes": ["clientA", "sat1", "ground1", "core1", "sat2", "clientB"],
  "links": ["link_sat1_ground1", "link_ground1_core1", "link_core1_sat2"]
}
```

#### 6. `weather/` - Äiá»u Kiá»‡n MÃ´i TrÆ°á»ng
TÃ¡c Ä‘á»™ng thá»i tiáº¿t lÃªn liÃªn káº¿t vá»‡ tinh/máº·t Ä‘áº¥t:
```json
weather/{regionId}: {
  "region": "Asia-Pacific",
  "conditions": "rain",
  "lossFactor": 0.05,
  "latencyFactor": 1.2,
  "timestamp": 1693783456000
}
```

#### 7. `recommendations/` - Káº¿t Quáº£ Tá»‘i Æ¯u AI
Khuyáº¿n nghá»‹ Ä‘á»‹nh tuyáº¿n do AI táº¡o ra:
```json
recommendations/{sessionId}: {
  "client": "clientA",
  "dst": "clientB",
  "bestAccessNode": "sat1", 
  "confidence": 0.87,
  "reason": "low latency, stable link",
  "timestamp": 1693783456000
}
```

#### 8. `sessions/` - PhiÃªn Chat
Quáº£n lÃ½ phiÃªn truyá»n thÃ´ng:
```json
sessions/{sessionId}: {
  "participants": ["clientA", "clientB"],
  "messages": [
    { "from": "clientA", "text": "hello", "timestamp": 1693783400000 },
    { "from": "clientB", "text": "hi!", "timestamp": 1693783410000 }
  ],
  "status": "active"
}
```

### Máº«u TÆ°Æ¡ng TÃ¡c Service-Database

| Service | Ghi VÃ o | Äá»c Tá»« |
|---------|---------|--------|
| **Client Service** | `sessions/` | `recommendations/`, `logs/` |
| **Satellite Service** | `logs/`, `nodes/`, `links/` | `packets/`, `topology/` |
| **Ground Station** | `logs/`, `nodes/`, `links/` | `packets/`, `weather/` |
| **Core Router** | `logs/`, `nodes/`, `links/` | `packets/`, `topology/` |
| **Manager Service** | `topology/`, `weather/` | `nodes/`, `links/` |
| **AI Optimizer** | `recommendations/` | `nodes/`, `links/`, `logs/`, `weather/` |

### Luá»“ng Dá»¯ Liá»‡u Thá»i Gian Thá»±c
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    ghi logs     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    Ä‘á»c dá»¯ liá»‡u   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Dá»‹ch Vá»¥    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚  Firebase   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ AI Optimizer â”‚
â”‚   Máº¡ng      â”‚                 â”‚  Database   â”‚                 â”‚   Service    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                               â”‚                               â”‚
       â”‚                               â”‚ Ä‘á»c recommendations          â”‚
       â”‚                               â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                               â”‚
       â”‚                               â–¼
       â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚   Client    â”‚
         lá»‡nh máº¡ng               â”‚    GUI      â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Luá»“ng CÃ´ng Viá»‡c Má»Ÿ Rá»™ng

1. **Client** gá»­i gÃ³i tin â†’ chá»n node truy cáº­p (thá»§ cÃ´ng hoáº·c AI khuyáº¿n nghá»‹)
2. **GÃ³i tin Ä‘i qua**: Vá»‡ tinh â†’ Tráº¡m Máº·t Äáº¥t â†’ Router LÃµi â†’ ÄÃ­ch
3. **Má»—i node** ghi dá»¯ liá»‡u tráº¡ng thÃ¡i/hiá»‡u suáº¥t vÃ o Firebase thá»i gian thá»±c
4. **Manager** táº¡o cáº­p nháº­t thá»i tiáº¿t/topology â†’ phÃ¡t sÃ³ng tá»›i táº¥t cáº£ dá»‹ch vá»¥
5. **AI Optimizer** Ä‘á»c dá»¯ liá»‡u máº¡ng, huáº¥n luyá»‡n mÃ´ hÃ¬nh RL, cáº­p nháº­t khuyáº¿n nghá»‹
6. **Client UI** hiá»ƒn thá»‹ khuyáº¿n nghá»‹ thá»i gian thá»±c + hiá»ƒn thá»‹ topology trá»±c tiáº¿p
7. **Xá»­ lÃ½ lá»—i**: Lá»—i máº¡ng kÃ­ch hoáº¡t Ä‘á»‹nh tuyáº¿n láº¡i tá»± Ä‘á»™ng qua core routers

## ğŸš¦ Báº¯t Äáº§u Nhanh

### YÃªu Cáº§u TiÃªn Quyáº¿t
- Docker & Docker Compose
- Java 17+ (cho phÃ¡t triá»ƒn local)
- Python 3.11+ (cho phÃ¡t triá»ƒn dá»‹ch vá»¥ AI)
- TÃ i khoáº£n Firebase (cho tÃ­nh nÄƒng giÃ¡m sÃ¡t)

### Cháº¡y vá»›i Docker Compose

1. **Clone repository**
   ```bash
   git clone <repository-url>
   cd sagin-network
   ```

2. **Cáº¥u hÃ¬nh thÃ´ng tin xÃ¡c thá»±c Firebase**
   ```bash
   # ThÃªm cáº¥u hÃ¬nh Firebase vÃ o application.properties cá»§a má»—i dá»‹ch vá»¥
   cp resources/application.properties.template resources/application.properties
   # Chá»‰nh sá»­a vá»›i thÃ´ng tin xÃ¡c thá»±c Firebase cá»§a báº¡n
   ```

3. **Build vÃ  khá»Ÿi Ä‘á»™ng táº¥t cáº£ dá»‹ch vá»¥**
   ```bash
   docker-compose up --build
   ```

4. **Truy cáº­p cÃ¡c dá»‹ch vá»¥**
   - Manager API: http://localhost:8081
   - AI Optimizer API: http://localhost:8082
   - Client GUI: Sáº½ khá»Ÿi Ä‘á»™ng tá»± Ä‘á»™ng

### Cháº¡y vá»›i Kubernetes

1. **Triá»ƒn khai lÃªn cluster Kubernetes**
   ```bash
   kubectl apply -f k8s/
   ```

2. **GiÃ¡m sÃ¡t triá»ƒn khai**
   ```bash
   kubectl get pods
   kubectl get services
   ```

## ğŸ“ Cáº¥u TrÃºc Dá»± Ãn

```
sagin-network/
â”œâ”€â”€ client-service/           # á»¨ng dá»¥ng client JavaFX
â”œâ”€â”€ satellite-service/        # MÃ´ phá»ng node vá»‡ tinh
â”œâ”€â”€ groundstation-service/    # Node tráº¡m máº·t Ä‘áº¥t  
â”œâ”€â”€ core-router-service/     # Router máº¡ng lÃµi
â”œâ”€â”€ manager-service/         # API quáº£n lÃ½ máº¡ng
â”œâ”€â”€ ai-optimizer-service/    # Engine tá»‘i Æ°u AI
â”œâ”€â”€ docker-compose.yaml     # Äiá»u phá»‘i multi-service
â””â”€â”€ k8s/                    # Config triá»ƒn khai Kubernetes
```

Má»—i service tuÃ¢n theo máº«u kiáº¿n trÃºc sáº¡ch:
- **Domain**: Thá»±c thá»ƒ vÃ  logic nghiá»‡p vá»¥ cá»‘t lÃµi
- **Application**: Use case vÃ  workflow nghiá»‡p vá»¥  
- **Infrastructure**: TÃ­ch há»£p bÃªn ngoÃ i (Firebase, TCP, v.v.)
- **Interface**: Controller API vÃ  Ä‘iá»ƒm vÃ o á»©ng dá»¥ng

## ğŸ”§ PhÃ¡t Triá»ƒn

### Thiáº¿t Láº­p PhÃ¡t Triá»ƒn Local

1. **Dá»‹ch Vá»¥ Java**
   ```bash
   cd <service-name>
   ./mvnw spring-boot:run
   # hoáº·c
   ./mvnw exec:java
   ```

2. **Dá»‹ch Vá»¥ AI Python**
   ```bash
   cd ai-optimizer-service
   pip install -r requirements.txt
   uvicorn interface.app:app --reload
   ```

### Build Tá»«ng Dá»‹ch Vá»¥

Má»—i dá»‹ch vá»¥ bao gá»“m script build:
```bash
cd <service-name>
./scripts/build.sh
./scripts/run.sh
```

## ğŸŒ API Endpoints

### Manager Service (Port 8081)
- `GET /api/topology` - Láº¥y topology máº¡ng hiá»‡n táº¡i
- `GET /api/nodes` - Liá»‡t kÃª táº¥t cáº£ node máº¡ng
- `POST /api/weather/update` - Cáº­p nháº­t Ä‘iá»u kiá»‡n thá»i tiáº¿t

### AI Optimizer Service (Port 8082)
- `POST /api/optimize` - YÃªu cáº§u tá»‘i Æ°u Ä‘á»‹nh tuyáº¿n
- `GET /api/model/status` - Láº¥y tráº¡ng thÃ¡i huáº¥n luyá»‡n mÃ´ hÃ¬nh AI
- `POST /api/simulate` - Cháº¡y mÃ´ phá»ng máº¡ng

## ğŸ“Š GiÃ¡m SÃ¡t & Logging

Truy cáº­p giÃ¡m sÃ¡t máº¡ng thá»i gian thá»±c qua:
- **Firebase Console**: Collection cÆ¡ sá»Ÿ dá»¯ liá»‡u thÃ´ vÃ  cáº­p nháº­t thá»i gian thá»±c
- **Manager Service Dashboard**: Thá»‘ng kÃª máº¡ng tá»•ng há»£p vÃ  xem topology
- **Client GUI**: Hiá»ƒn thá»‹ máº¡ng trá»±c tiáº¿p vÃ  log phiÃªn chat
- **AI Optimizer Metrics**: PhÃ¢n tÃ­ch hiá»‡u suáº¥t vÃ  khuyáº¿n nghá»‹ tá»‘i Æ°u

## ğŸ¤ ÄÃ³ng GÃ³p

1. Fork repository
2. Táº¡o nhÃ¡nh tÃ­nh nÄƒng (`git checkout -b feature/tinh-nang-tuyet-voi`)
3. Commit thay Ä‘á»•i (`git commit -m 'ThÃªm tÃ­nh nÄƒng tuyá»‡t vá»i'`)
4. Push lÃªn nhÃ¡nh (`git push origin feature/tinh-nang-tuyet-voi`)
5. Má»Ÿ Pull Request

## ğŸ“ Giáº¥y PhÃ©p

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c cáº¥p phÃ©p theo Giáº¥y phÃ©p MIT - xem file [LICENSE](LICENSE) Ä‘á»ƒ biáº¿t chi tiáº¿t.

## ğŸ†˜ Há»— Trá»£

Äá»ƒ Ä‘Æ°á»£c há»— trá»£ vÃ  cÃ¢u há»i:
- Táº¡o issue trong repository nÃ y
- LiÃªn há»‡ nhÃ³m phÃ¡t triá»ƒn
- Kiá»ƒm tra tÃ i liá»‡u trong README cá»§a má»—i dá»‹ch vá»¥

## ğŸ”® Lá»™ TrÃ¬nh TÆ°Æ¡ng Lai

- [ ] Cáº£i thiá»‡n mÃ´ hÃ¬nh machine learning
- [ ] TÃ­nh nÄƒng hiá»ƒn thá»‹ nÃ¢ng cao
- [ ] Há»— trá»£ triá»ƒn khai Ä‘a vÃ¹ng
- [ ] Triá»ƒn khai báº£o máº­t nÃ¢ng cao
- [ ] CÃ´ng cá»¥ benchmark hiá»‡u suáº¥t

---
